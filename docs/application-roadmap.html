<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>/home/frbl/Workspace/frbl/onlinesuperlearner/application-roadmap.md • OnlineSuperLearner</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script>
<script src="pkgdown.js"></script>
  
  
<meta property="og:title" content="/home/frbl/Workspace/frbl/onlinesuperlearner/application-roadmap.md" />
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">OnlineSuperLearner</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/OnlineSuperLearner.html">Get Started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="contents col-md-12">
    <div class="page-header">
      <h1>/home/frbl/Workspace/frbl/onlinesuperlearner/application-roadmap.md</h1>
    </div>


<div id="steps" class="section level1">
<h1 class="hasAnchor">
<a href="#steps" class="anchor"></a>Steps:</h1>
<ol>
<li>Read data (from simulation or file)</li>
<li>Add summary measures in wide form (lags, variance, mean, etc).</li>
<li>Wait / simulate the minimal number of measurements needed from a single time series</li>
<li>Using all these measurements, we estimate the density for q_w given w-, (g given g-), and q_y given y-. (If a dist is binary, we don’t have to estimate its distribution, but we still can using Oleg’s package, for consistency. The same goes for if a variable is discrete.)</li>
<li>SuperLearning will be done to estimate the densities. That is, we use several different estimators for estimating the densities (currently we only use logistic regression). We will also fit the number of bins that best resembles our data.</li>
<li>
<p>Now, using these densities, we generate a number of draws, using the scheme you sent earlier, in order to get the counterfactual distribution (j is time of intervention, tau is time of response) :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">result &lt;-<span class="st"> </span><span class="dv">0</span>
B &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">100000</span>)
for b in B
  sample <span class="kw">W</span>(<span class="dv">1</span>) given <span class="kw">C_w</span>(<span class="dv">1</span>) from q_w
  sample <span class="kw">A</span>(<span class="dv">1</span>) given <span class="kw">C_a</span>(<span class="dv">1</span>) from g_a
  sample <span class="kw">Y</span>(<span class="dv">1</span>) given <span class="kw">C_y</span>(<span class="dv">1</span>)
  sample <span class="kw">W</span>(<span class="dv">2</span>) given <span class="kw">C_w</span>(<span class="dv">2</span>) from q_w
  sample <span class="kw">A</span>(<span class="dv">2</span>) given <span class="kw">C_a</span>(<span class="dv">2</span>) from g_a
  sample <span class="kw">Y</span>(<span class="dv">2</span>) given <span class="kw">C_y</span>(<span class="dv">2</span>)
  .
  .
  .
  sample <span class="kw">W</span>(j) given <span class="kw">C_w</span>(j) from q_w
  sample <span class="kw">A</span>(j) =<span class="st"> </span><span class="kw">a</span> (=<span class="st"> </span>specified, deterministic intervention)
  sample <span class="kw">Y</span>(j) given <span class="kw">C_y</span>(j)
  .
  .
  .
  sample <span class="kw">W</span>(tau) given <span class="kw">C_w</span>(tau) from q_w
  sample <span class="kw">A</span>(tau) given <span class="kw">C_a</span>(tau) from g_a
  result +<span class="er">=</span><span class="st"> </span>(sample <span class="kw">Y</span>(tau) given <span class="kw">C_y</span>(tau)) /<span class="st"> </span>B
endfor
result</code></pre></div>
which will give you the response for an <em>intervention a on time j for an outcome at time tau</em>.</li>
<li>Questions:
<ul>
<li>How do we deal with the initialization? Up to now I just expected that we’d skip the first <code>Z</code> measurements, where <code>Z</code> is the maximum number of observations needed for each of the summary measures we include.</li>
<li>In this scheme of drawing observations we are not including the change of probability $g_a^*(a(t) | c(a)) / g_a(a(t) | c(a))$, which is probably incorrect?</li>
<li>For the SuperLearning step, since we are not comparing a simple mean with an outcome, what would be our cross-validation step and loss function?</li>
</ul>
</li>
</ol>
</div>
<div id="initial-roadmap" class="section level1">
<h1 class="hasAnchor">
<a href="#initial-roadmap" class="anchor"></a>Initial roadmap</h1>
<ol>
<li><p>create structure of package</p></li>
<li><p>set up automatic compiling and testing</p></li>
<li>Use packages:</li>
</ol>
<ul>
<li>‘R.oxygen’</li>
<li>‘R.utils’ (‘Arguments$getNumeric’ and the likes, ‘throw’, use of ‘verbose’)</li>
</ul>
<pre><code>  ## Example of verbose
  ## Argument 'verbose':
  verbose &lt;- Arguments$getVerbose(verbose)
  verbose &lt;- less(verbose, 10)
  verbose &amp;&amp; print(verbose, table(U))
  verbose &amp;&amp; enter(verbose, "Simulated  copy number and expression data
  for class 1")
  verbose &amp;&amp; str(verbose, V)
  verbose &amp;&amp; exit(verbose)</code></pre>
<ol>
<li>Keep in mind that we’re interested in oos (online one-step) and otmle (online tmle) estimators</li>
</ol>
<p>4a. new object S3 structure</p>
<p>4b. high-level description – flow of the application</p>
<div class="sourceCode"><pre class="sourceCode R"><code class="sourceCode r">(i) learning step
(ii) targeting step</code></pre></div>
<p>4c. encoding of a generic time series vocabulary:</p>
<div class="sourceCode"><pre class="sourceCode R"><code class="sourceCode r">-<span class="st"> </span>(<span class="kw">W</span>(t), <span class="kw">A</span>(t), <span class="kw">Y</span>(t)) is the t-th block
-<span class="st"> </span><span class="kw">W</span>(t), <span class="kw">A</span>(t) and <span class="kw">Y</span>(t) are its nodes
-<span class="st"> </span><span class="kw">W</span>(t) in WW and <span class="kw">Y</span>(t) in YY, WW and YY possibly multi-dim
-<span class="st"> </span><span class="kw">A</span>(t) is discrete/binary?</code></pre></div>
<p>4d. simulation (i) characterization of data-generating distribution (ii) simulation under the data-generating distribution (iii) characterization of the parameter of interest - =&gt; providing intervention nodes, and the corresponding intervention distributions (iv) evaluation of the parameter of interest</p>
<p>4e. encoding of summary measures of the past of each {W,A,Y}-node</p>
<p>4f. write functions implementing <em>online</em> (super-) learning - must rely on <em>online</em> “prediction” algorithms - think about H2O…</p>
<p>4g. Monte-Carlo procedures to derive - the estimates of the parameter from the estimated features - the efficient influence curve, used for targeting + CI (see draft)</p>
</div>


  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Frank Blaauw, Antoine Chambaz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>

